/* âŠž @timohausmann/quadtree-js v1.2.1 https://github.com/timohausmann/quadtree-js.git */
!function(){function a(a,b,c,d){this.max_objects=b||10,this.max_levels=c||4,this.level=d||0,this.bounds=a,this.objects=[],this.nodes=[]}a.prototype.split=function(){var b=this.level+1,c=this.bounds.width/2,d=this.bounds.height/2,e=this.bounds.x,f=this.bounds.y;this.nodes[0]=new a({x:e+c,y:f,width:c,height:d},this.max_objects,this.max_levels,b),this.nodes[1]=new a({x:e,y:f,width:c,height:d},this.max_objects,this.max_levels,b),this.nodes[2]=new a({x:e,y:f+d,width:c,height:d},this.max_objects,this.max_levels,b),this.nodes[3]=new a({x:e+c,y:f+d,width:c,height:d},this.max_objects,this.max_levels,b)},a.prototype.getIndex=function(a){var b=[],c=this.bounds.x+this.bounds.width/2,d=this.bounds.y+this.bounds.height/2,e=a.y<d,f=a.x<c,g=a.x+a.width>c,h=a.y+a.height>d;return e&&g&&b.push(0),f&&e&&b.push(1),f&&h&&b.push(2),g&&h&&b.push(3),b},a.prototype.insert=function(a){var b,c=0;if(this.nodes.length)for(b=this.getIndex(a),c=0;c<b.length;c++)this.nodes[b[c]].insert(a);else if(this.objects.push(a),this.objects.length>this.max_objects&&this.level<this.max_levels){for(this.nodes.length||this.split(),c=0;c<this.objects.length;c++){b=this.getIndex(this.objects[c]);for(var d=0;d<b.length;d++)this.nodes[b[d]].insert(this.objects[c])}this.objects=[]}},a.prototype.retrieve=function(a){var b=this.getIndex(a),c=this.objects;if(this.nodes.length)for(var d=0;d<b.length;d++)c=c.concat(this.nodes[b[d]].retrieve(a));return c=c.filter(function(a,b){return c.indexOf(a)>=b})},a.prototype.clear=function(){this.objects=[];for(var a=0;a<this.nodes.length;a+=1)this.nodes.length&&this.nodes[a].clear();this.nodes=[]},"undefined"!=typeof module&&void 0!==module.exports?module.exports=a:window.Quadtree=a}();